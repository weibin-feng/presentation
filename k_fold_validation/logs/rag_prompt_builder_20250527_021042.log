2025-05-27 02:10:42,184 - INFO - 日志文件已创建: logs/rag_prompt_builder_20250527_021042.log
2025-05-27 02:10:42,184 - INFO - 
=== 初始化RAG提示构建器 ===
2025-05-27 02:10:42,184 - INFO - 
1. 初始化文本编码器...
2025-05-27 02:10:43,796 - INFO - 文本编码器初始化完成
2025-05-27 02:10:43,796 - INFO - 
2. 加载处理后的数据...
2025-05-27 02:10:43,797 - INFO - 成功加载 30 条数据
2025-05-27 02:10:43,797 - INFO - 
3. 加载嵌入向量...
2025-05-27 02:10:43,797 - INFO - 嵌入向量维度: (30, 384)
2025-05-27 02:10:43,797 - INFO - 
4. 加载训练数据 (fold 2)...
2025-05-27 02:10:43,797 - INFO - 训练数据加载完成，共 24 条
2025-05-27 02:10:43,797 - INFO - 
5. 构建其他折的FAISS索引...
2025-05-27 02:10:43,798 - INFO - 合并了 96 条其他折的数据
2025-05-27 02:10:43,799 - INFO - 为其他折的数据创建嵌入向量...
2025-05-27 02:10:44,018 - INFO - 创建FAISS索引...
2025-05-27 02:10:44,018 - INFO - FAISS索引创建完成
2025-05-27 02:10:44,019 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,019 - INFO - 编码目标政策...
2025-05-27 02:10:44,026 - INFO - 搜索相似案例...
2025-05-27 02:10:44,026 - INFO - 找到相似案例 1: policy/1841 (相似度: 1.0000)
2025-05-27 02:10:44,026 - INFO - 找到相似案例 2: policy/1841 (相似度: 1.0000)
2025-05-27 02:10:44,026 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,026 - INFO - 提示构建完成
2025-05-27 02:10:44,036 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,036 - INFO - 编码目标政策...
2025-05-27 02:10:44,044 - INFO - 搜索相似案例...
2025-05-27 02:10:44,044 - INFO - 找到相似案例 1: policy/1983 (相似度: 1.0000)
2025-05-27 02:10:44,044 - INFO - 找到相似案例 2: policy/1983 (相似度: 1.0000)
2025-05-27 02:10:44,044 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,044 - INFO - 提示构建完成
2025-05-27 02:10:44,045 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,045 - INFO - 编码目标政策...
2025-05-27 02:10:44,052 - INFO - 搜索相似案例...
2025-05-27 02:10:44,052 - INFO - 找到相似案例 1: policy/1844 (相似度: 1.0000)
2025-05-27 02:10:44,052 - INFO - 找到相似案例 2: policy/1844 (相似度: 1.0000)
2025-05-27 02:10:44,052 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,052 - INFO - 提示构建完成
2025-05-27 02:10:44,053 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,053 - INFO - 编码目标政策...
2025-05-27 02:10:44,060 - INFO - 搜索相似案例...
2025-05-27 02:10:44,060 - INFO - 找到相似案例 1: policy/1999 (相似度: 1.0000)
2025-05-27 02:10:44,061 - INFO - 找到相似案例 2: policy/1999 (相似度: 1.0000)
2025-05-27 02:10:44,061 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,061 - INFO - 提示构建完成
2025-05-27 02:10:44,065 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,065 - INFO - 编码目标政策...
2025-05-27 02:10:44,072 - INFO - 搜索相似案例...
2025-05-27 02:10:44,073 - INFO - 找到相似案例 1: policy/1893 (相似度: 1.0000)
2025-05-27 02:10:44,073 - INFO - 找到相似案例 2: policy/1893 (相似度: 1.0000)
2025-05-27 02:10:44,073 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,073 - INFO - 提示构建完成
2025-05-27 02:10:44,076 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,076 - INFO - 编码目标政策...
2025-05-27 02:10:44,083 - INFO - 搜索相似案例...
2025-05-27 02:10:44,083 - INFO - 找到相似案例 1: policy/1580 (相似度: 1.0000)
2025-05-27 02:10:44,083 - INFO - 找到相似案例 2: policy/1580 (相似度: 1.0000)
2025-05-27 02:10:44,083 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,084 - INFO - 提示构建完成
2025-05-27 02:10:44,084 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,084 - INFO - 编码目标政策...
2025-05-27 02:10:44,092 - INFO - 搜索相似案例...
2025-05-27 02:10:44,092 - INFO - 找到相似案例 1: policy/2188 (相似度: 1.0000)
2025-05-27 02:10:44,092 - INFO - 找到相似案例 2: policy/2188 (相似度: 1.0000)
2025-05-27 02:10:44,092 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,092 - INFO - 提示构建完成
2025-05-27 02:10:44,095 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,095 - INFO - 编码目标政策...
2025-05-27 02:10:44,105 - INFO - 搜索相似案例...
2025-05-27 02:10:44,105 - INFO - 找到相似案例 1: policy/1482 (相似度: 1.0000)
2025-05-27 02:10:44,105 - INFO - 找到相似案例 2: policy/1482 (相似度: 1.0000)
2025-05-27 02:10:44,105 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,105 - INFO - 提示构建完成
2025-05-27 02:10:44,108 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,108 - INFO - 编码目标政策...
2025-05-27 02:10:44,116 - INFO - 搜索相似案例...
2025-05-27 02:10:44,116 - INFO - 找到相似案例 1: policy/1186 (相似度: 1.0000)
2025-05-27 02:10:44,116 - INFO - 找到相似案例 2: policy/1186 (相似度: 1.0000)
2025-05-27 02:10:44,116 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,116 - INFO - 提示构建完成
2025-05-27 02:10:44,119 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,119 - INFO - 编码目标政策...
2025-05-27 02:10:44,127 - INFO - 搜索相似案例...
2025-05-27 02:10:44,127 - INFO - 找到相似案例 1: policy/15 (相似度: 1.0000)
2025-05-27 02:10:44,127 - INFO - 找到相似案例 2: policy/15 (相似度: 1.0000)
2025-05-27 02:10:44,127 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,127 - INFO - 提示构建完成
2025-05-27 02:10:44,130 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,130 - INFO - 编码目标政策...
2025-05-27 02:10:44,137 - INFO - 搜索相似案例...
2025-05-27 02:10:44,138 - INFO - 找到相似案例 1: policy/631 (相似度: 1.0000)
2025-05-27 02:10:44,138 - INFO - 找到相似案例 2: policy/631 (相似度: 1.0000)
2025-05-27 02:10:44,138 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,138 - INFO - 提示构建完成
2025-05-27 02:10:44,138 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,138 - INFO - 编码目标政策...
2025-05-27 02:10:44,145 - INFO - 搜索相似案例...
2025-05-27 02:10:44,146 - INFO - 找到相似案例 1: policy/1082 (相似度: 1.0000)
2025-05-27 02:10:44,146 - INFO - 找到相似案例 2: policy/1082 (相似度: 1.0000)
2025-05-27 02:10:44,146 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,146 - INFO - 提示构建完成
2025-05-27 02:10:44,148 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,148 - INFO - 编码目标政策...
2025-05-27 02:10:44,156 - INFO - 搜索相似案例...
2025-05-27 02:10:44,156 - INFO - 找到相似案例 1: policy/1016 (相似度: 1.0000)
2025-05-27 02:10:44,157 - INFO - 找到相似案例 2: policy/1016 (相似度: 1.0000)
2025-05-27 02:10:44,157 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,157 - INFO - 提示构建完成
2025-05-27 02:10:44,157 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,157 - INFO - 编码目标政策...
2025-05-27 02:10:44,164 - INFO - 搜索相似案例...
2025-05-27 02:10:44,164 - INFO - 找到相似案例 1: policy/246 (相似度: 1.0000)
2025-05-27 02:10:44,164 - INFO - 找到相似案例 2: policy/246 (相似度: 1.0000)
2025-05-27 02:10:44,164 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,165 - INFO - 提示构建完成
2025-05-27 02:10:44,167 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,167 - INFO - 编码目标政策...
2025-05-27 02:10:44,177 - INFO - 搜索相似案例...
2025-05-27 02:10:44,177 - INFO - 找到相似案例 1: policy/247 (相似度: 1.0000)
2025-05-27 02:10:44,177 - INFO - 找到相似案例 2: policy/247 (相似度: 1.0000)
2025-05-27 02:10:44,177 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,177 - INFO - 提示构建完成
2025-05-27 02:10:44,180 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,180 - INFO - 编码目标政策...
2025-05-27 02:10:44,186 - INFO - 搜索相似案例...
2025-05-27 02:10:44,187 - INFO - 找到相似案例 1: policy/493 (相似度: 1.0000)
2025-05-27 02:10:44,187 - INFO - 找到相似案例 2: policy/493 (相似度: 1.0000)
2025-05-27 02:10:44,187 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,187 - INFO - 提示构建完成
2025-05-27 02:10:44,191 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,191 - INFO - 编码目标政策...
2025-05-27 02:10:44,198 - INFO - 搜索相似案例...
2025-05-27 02:10:44,198 - INFO - 找到相似案例 1: policy/200 (相似度: 1.0000)
2025-05-27 02:10:44,198 - INFO - 找到相似案例 2: policy/200 (相似度: 1.0000)
2025-05-27 02:10:44,198 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,198 - INFO - 提示构建完成
2025-05-27 02:10:44,201 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,201 - INFO - 编码目标政策...
2025-05-27 02:10:44,208 - INFO - 搜索相似案例...
2025-05-27 02:10:44,208 - INFO - 找到相似案例 1: policy/1369 (相似度: 1.0000)
2025-05-27 02:10:44,209 - INFO - 找到相似案例 2: policy/1369 (相似度: 1.0000)
2025-05-27 02:10:44,209 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,209 - INFO - 提示构建完成
2025-05-27 02:10:44,211 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,211 - INFO - 编码目标政策...
2025-05-27 02:10:44,219 - INFO - 搜索相似案例...
2025-05-27 02:10:44,219 - INFO - 找到相似案例 1: policy/1208 (相似度: 1.0000)
2025-05-27 02:10:44,219 - INFO - 找到相似案例 2: policy/1208 (相似度: 1.0000)
2025-05-27 02:10:44,219 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,219 - INFO - 提示构建完成
2025-05-27 02:10:44,222 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,222 - INFO - 编码目标政策...
2025-05-27 02:10:44,230 - INFO - 搜索相似案例...
2025-05-27 02:10:44,230 - INFO - 找到相似案例 1: policy/1332 (相似度: 1.0000)
2025-05-27 02:10:44,230 - INFO - 找到相似案例 2: policy/1332 (相似度: 1.0000)
2025-05-27 02:10:44,230 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,230 - INFO - 提示构建完成
2025-05-27 02:10:44,233 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,234 - INFO - 编码目标政策...
2025-05-27 02:10:44,241 - INFO - 搜索相似案例...
2025-05-27 02:10:44,241 - INFO - 找到相似案例 1: policy/718 (相似度: 1.0000)
2025-05-27 02:10:44,241 - INFO - 找到相似案例 2: policy/718 (相似度: 1.0000)
2025-05-27 02:10:44,241 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,241 - INFO - 提示构建完成
2025-05-27 02:10:44,244 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,244 - INFO - 编码目标政策...
2025-05-27 02:10:44,251 - INFO - 搜索相似案例...
2025-05-27 02:10:44,251 - INFO - 找到相似案例 1: policy/444 (相似度: 1.0000)
2025-05-27 02:10:44,252 - INFO - 找到相似案例 2: policy/444 (相似度: 1.0000)
2025-05-27 02:10:44,252 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,252 - INFO - 提示构建完成
2025-05-27 02:10:44,254 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,254 - INFO - 编码目标政策...
2025-05-27 02:10:44,262 - INFO - 搜索相似案例...
2025-05-27 02:10:44,262 - INFO - 找到相似案例 1: policy/2174 (相似度: 1.0000)
2025-05-27 02:10:44,262 - INFO - 找到相似案例 2: policy/2174 (相似度: 1.0000)
2025-05-27 02:10:44,262 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,262 - INFO - 提示构建完成
2025-05-27 02:10:44,265 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:44,265 - INFO - 编码目标政策...
2025-05-27 02:10:44,272 - INFO - 搜索相似案例...
2025-05-27 02:10:44,273 - INFO - 找到相似案例 1: policy/61 (相似度: 1.0000)
2025-05-27 02:10:44,273 - INFO - 找到相似案例 2: policy/61 (相似度: 1.0000)
2025-05-27 02:10:44,273 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:44,273 - INFO - 提示构建完成
2025-05-27 02:10:44,276 - INFO - 日志文件已创建: logs/rag_prompt_builder_20250527_021044.log
2025-05-27 02:10:44,276 - INFO - 
=== 初始化RAG提示构建器 ===
2025-05-27 02:10:44,276 - INFO - 
1. 初始化文本编码器...
2025-05-27 02:10:45,559 - INFO - 文本编码器初始化完成
2025-05-27 02:10:45,560 - INFO - 
2. 加载处理后的数据...
2025-05-27 02:10:45,560 - INFO - 成功加载 30 条数据
2025-05-27 02:10:45,560 - INFO - 
3. 加载嵌入向量...
2025-05-27 02:10:45,560 - INFO - 嵌入向量维度: (30, 384)
2025-05-27 02:10:45,561 - INFO - 
4. 加载训练数据 (fold 3)...
2025-05-27 02:10:45,561 - INFO - 训练数据加载完成，共 24 条
2025-05-27 02:10:45,561 - INFO - 
5. 构建其他折的FAISS索引...
2025-05-27 02:10:45,562 - INFO - 合并了 96 条其他折的数据
2025-05-27 02:10:45,562 - INFO - 为其他折的数据创建嵌入向量...
2025-05-27 02:10:45,775 - INFO - 创建FAISS索引...
2025-05-27 02:10:45,776 - INFO - FAISS索引创建完成
2025-05-27 02:10:45,776 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,776 - INFO - 编码目标政策...
2025-05-27 02:10:45,783 - INFO - 搜索相似案例...
2025-05-27 02:10:45,783 - INFO - 找到相似案例 1: policy/1841 (相似度: 1.0000)
2025-05-27 02:10:45,783 - INFO - 找到相似案例 2: policy/1841 (相似度: 1.0000)
2025-05-27 02:10:45,783 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,783 - INFO - 提示构建完成
2025-05-27 02:10:45,794 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,794 - INFO - 编码目标政策...
2025-05-27 02:10:45,801 - INFO - 搜索相似案例...
2025-05-27 02:10:45,801 - INFO - 找到相似案例 1: policy/1983 (相似度: 1.0000)
2025-05-27 02:10:45,801 - INFO - 找到相似案例 2: policy/1983 (相似度: 1.0000)
2025-05-27 02:10:45,801 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,801 - INFO - 提示构建完成
2025-05-27 02:10:45,807 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,807 - INFO - 编码目标政策...
2025-05-27 02:10:45,815 - INFO - 搜索相似案例...
2025-05-27 02:10:45,815 - INFO - 找到相似案例 1: policy/1893 (相似度: 1.0000)
2025-05-27 02:10:45,816 - INFO - 找到相似案例 2: policy/1893 (相似度: 1.0000)
2025-05-27 02:10:45,816 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,816 - INFO - 提示构建完成
2025-05-27 02:10:45,819 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,820 - INFO - 编码目标政策...
2025-05-27 02:10:45,827 - INFO - 搜索相似案例...
2025-05-27 02:10:45,828 - INFO - 找到相似案例 1: policy/2188 (相似度: 1.0000)
2025-05-27 02:10:45,828 - INFO - 找到相似案例 2: policy/2188 (相似度: 1.0000)
2025-05-27 02:10:45,828 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,828 - INFO - 提示构建完成
2025-05-27 02:10:45,832 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,832 - INFO - 编码目标政策...
2025-05-27 02:10:45,840 - INFO - 搜索相似案例...
2025-05-27 02:10:45,841 - INFO - 找到相似案例 1: policy/1482 (相似度: 1.0000)
2025-05-27 02:10:45,841 - INFO - 找到相似案例 2: policy/1482 (相似度: 1.0000)
2025-05-27 02:10:45,841 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,841 - INFO - 提示构建完成
2025-05-27 02:10:45,844 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,844 - INFO - 编码目标政策...
2025-05-27 02:10:45,853 - INFO - 搜索相似案例...
2025-05-27 02:10:45,853 - INFO - 找到相似案例 1: policy/1186 (相似度: 1.0000)
2025-05-27 02:10:45,854 - INFO - 找到相似案例 2: policy/1186 (相似度: 1.0000)
2025-05-27 02:10:45,854 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,854 - INFO - 提示构建完成
2025-05-27 02:10:45,857 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,857 - INFO - 编码目标政策...
2025-05-27 02:10:45,865 - INFO - 搜索相似案例...
2025-05-27 02:10:45,865 - INFO - 找到相似案例 1: policy/1259 (相似度: 1.0000)
2025-05-27 02:10:45,865 - INFO - 找到相似案例 2: policy/1259 (相似度: 1.0000)
2025-05-27 02:10:45,865 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,866 - INFO - 提示构建完成
2025-05-27 02:10:45,870 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,870 - INFO - 编码目标政策...
2025-05-27 02:10:45,878 - INFO - 搜索相似案例...
2025-05-27 02:10:45,878 - INFO - 找到相似案例 1: policy/15 (相似度: 1.0000)
2025-05-27 02:10:45,878 - INFO - 找到相似案例 2: policy/15 (相似度: 1.0000)
2025-05-27 02:10:45,878 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,878 - INFO - 提示构建完成
2025-05-27 02:10:45,881 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,881 - INFO - 编码目标政策...
2025-05-27 02:10:45,889 - INFO - 搜索相似案例...
2025-05-27 02:10:45,889 - INFO - 找到相似案例 1: policy/631 (相似度: 1.0000)
2025-05-27 02:10:45,889 - INFO - 找到相似案例 2: policy/631 (相似度: 1.0000)
2025-05-27 02:10:45,889 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,889 - INFO - 提示构建完成
2025-05-27 02:10:45,892 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,892 - INFO - 编码目标政策...
2025-05-27 02:10:45,899 - INFO - 搜索相似案例...
2025-05-27 02:10:45,899 - INFO - 找到相似案例 1: policy/1082 (相似度: 1.0000)
2025-05-27 02:10:45,899 - INFO - 找到相似案例 2: policy/1082 (相似度: 1.0000)
2025-05-27 02:10:45,899 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,899 - INFO - 提示构建完成
2025-05-27 02:10:45,902 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,902 - INFO - 编码目标政策...
2025-05-27 02:10:45,910 - INFO - 搜索相似案例...
2025-05-27 02:10:45,910 - INFO - 找到相似案例 1: policy/1016 (相似度: 1.0000)
2025-05-27 02:10:45,910 - INFO - 找到相似案例 2: policy/1016 (相似度: 1.0000)
2025-05-27 02:10:45,910 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,911 - INFO - 提示构建完成
2025-05-27 02:10:45,913 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,913 - INFO - 编码目标政策...
2025-05-27 02:10:45,920 - INFO - 搜索相似案例...
2025-05-27 02:10:45,920 - INFO - 找到相似案例 1: policy/1095 (相似度: 1.0000)
2025-05-27 02:10:45,921 - INFO - 找到相似案例 2: policy/1095 (相似度: 1.0000)
2025-05-27 02:10:45,921 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,921 - INFO - 提示构建完成
2025-05-27 02:10:45,923 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,923 - INFO - 编码目标政策...
2025-05-27 02:10:45,930 - INFO - 搜索相似案例...
2025-05-27 02:10:45,931 - INFO - 找到相似案例 1: policy/246 (相似度: 1.0000)
2025-05-27 02:10:45,931 - INFO - 找到相似案例 2: policy/246 (相似度: 1.0000)
2025-05-27 02:10:45,931 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,931 - INFO - 提示构建完成
2025-05-27 02:10:45,934 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,934 - INFO - 编码目标政策...
2025-05-27 02:10:45,942 - INFO - 搜索相似案例...
2025-05-27 02:10:45,943 - INFO - 找到相似案例 1: policy/247 (相似度: 1.0000)
2025-05-27 02:10:45,943 - INFO - 找到相似案例 2: policy/247 (相似度: 1.0000)
2025-05-27 02:10:45,943 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,943 - INFO - 提示构建完成
2025-05-27 02:10:45,946 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,946 - INFO - 编码目标政策...
2025-05-27 02:10:45,953 - INFO - 搜索相似案例...
2025-05-27 02:10:45,953 - INFO - 找到相似案例 1: policy/1115 (相似度: 1.0000)
2025-05-27 02:10:45,953 - INFO - 找到相似案例 2: policy/1115 (相似度: 1.0000)
2025-05-27 02:10:45,953 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,953 - INFO - 提示构建完成
2025-05-27 02:10:45,956 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,956 - INFO - 编码目标政策...
2025-05-27 02:10:45,963 - INFO - 搜索相似案例...
2025-05-27 02:10:45,964 - INFO - 找到相似案例 1: policy/1007 (相似度: 1.0000)
2025-05-27 02:10:45,964 - INFO - 找到相似案例 2: policy/1007 (相似度: 1.0000)
2025-05-27 02:10:45,964 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,964 - INFO - 提示构建完成
2025-05-27 02:10:45,965 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,965 - INFO - 编码目标政策...
2025-05-27 02:10:45,972 - INFO - 搜索相似案例...
2025-05-27 02:10:45,972 - INFO - 找到相似案例 1: policy/200 (相似度: 1.0000)
2025-05-27 02:10:45,972 - INFO - 找到相似案例 2: policy/200 (相似度: 1.0000)
2025-05-27 02:10:45,973 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,973 - INFO - 提示构建完成
2025-05-27 02:10:45,975 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,975 - INFO - 编码目标政策...
2025-05-27 02:10:45,982 - INFO - 搜索相似案例...
2025-05-27 02:10:45,982 - INFO - 找到相似案例 1: policy/1369 (相似度: 1.0000)
2025-05-27 02:10:45,982 - INFO - 找到相似案例 2: policy/1369 (相似度: 1.0000)
2025-05-27 02:10:45,983 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,983 - INFO - 提示构建完成
2025-05-27 02:10:45,984 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,984 - INFO - 编码目标政策...
2025-05-27 02:10:45,990 - INFO - 搜索相似案例...
2025-05-27 02:10:45,990 - INFO - 找到相似案例 1: policy/697 (相似度: 1.0000)
2025-05-27 02:10:45,991 - INFO - 找到相似案例 2: policy/697 (相似度: 1.0000)
2025-05-27 02:10:45,991 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:45,991 - INFO - 提示构建完成
2025-05-27 02:10:45,993 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:45,993 - INFO - 编码目标政策...
2025-05-27 02:10:46,000 - INFO - 搜索相似案例...
2025-05-27 02:10:46,001 - INFO - 找到相似案例 1: policy/1208 (相似度: 1.0000)
2025-05-27 02:10:46,001 - INFO - 找到相似案例 2: policy/1208 (相似度: 1.0000)
2025-05-27 02:10:46,001 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:46,001 - INFO - 提示构建完成
2025-05-27 02:10:46,003 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:46,003 - INFO - 编码目标政策...
2025-05-27 02:10:46,011 - INFO - 搜索相似案例...
2025-05-27 02:10:46,011 - INFO - 找到相似案例 1: policy/718 (相似度: 1.0000)
2025-05-27 02:10:46,011 - INFO - 找到相似案例 2: policy/718 (相似度: 1.0000)
2025-05-27 02:10:46,011 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:46,011 - INFO - 提示构建完成
2025-05-27 02:10:46,012 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:46,012 - INFO - 编码目标政策...
2025-05-27 02:10:46,019 - INFO - 搜索相似案例...
2025-05-27 02:10:46,019 - INFO - 找到相似案例 1: policy/444 (相似度: 1.0000)
2025-05-27 02:10:46,019 - INFO - 找到相似案例 2: policy/444 (相似度: 1.0000)
2025-05-27 02:10:46,019 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:46,019 - INFO - 提示构建完成
2025-05-27 02:10:46,020 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:46,020 - INFO - 编码目标政策...
2025-05-27 02:10:46,027 - INFO - 搜索相似案例...
2025-05-27 02:10:46,028 - INFO - 找到相似案例 1: policy/476 (相似度: 1.0000)
2025-05-27 02:10:46,028 - INFO - 找到相似案例 2: policy/476 (相似度: 1.0000)
2025-05-27 02:10:46,028 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:46,028 - INFO - 提示构建完成
2025-05-27 02:10:46,032 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:46,032 - INFO - 编码目标政策...
2025-05-27 02:10:46,039 - INFO - 搜索相似案例...
2025-05-27 02:10:46,039 - INFO - 找到相似案例 1: policy/2174 (相似度: 1.0000)
2025-05-27 02:10:46,039 - INFO - 找到相似案例 2: policy/2174 (相似度: 1.0000)
2025-05-27 02:10:46,039 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:46,039 - INFO - 提示构建完成
2025-05-27 02:10:46,042 - INFO - 日志文件已创建: logs/rag_prompt_builder_20250527_021046.log
2025-05-27 02:10:46,043 - INFO - 
=== 初始化RAG提示构建器 ===
2025-05-27 02:10:46,043 - INFO - 
1. 初始化文本编码器...
2025-05-27 02:10:47,419 - INFO - 文本编码器初始化完成
2025-05-27 02:10:47,419 - INFO - 
2. 加载处理后的数据...
2025-05-27 02:10:47,420 - INFO - 成功加载 30 条数据
2025-05-27 02:10:47,420 - INFO - 
3. 加载嵌入向量...
2025-05-27 02:10:47,420 - INFO - 嵌入向量维度: (30, 384)
2025-05-27 02:10:47,420 - INFO - 
4. 加载训练数据 (fold 4)...
2025-05-27 02:10:47,421 - INFO - 训练数据加载完成，共 24 条
2025-05-27 02:10:47,421 - INFO - 
5. 构建其他折的FAISS索引...
2025-05-27 02:10:47,422 - INFO - 合并了 96 条其他折的数据
2025-05-27 02:10:47,422 - INFO - 为其他折的数据创建嵌入向量...
2025-05-27 02:10:47,682 - INFO - 创建FAISS索引...
2025-05-27 02:10:47,682 - INFO - FAISS索引创建完成
2025-05-27 02:10:47,683 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,683 - INFO - 编码目标政策...
2025-05-27 02:10:47,690 - INFO - 搜索相似案例...
2025-05-27 02:10:47,690 - INFO - 找到相似案例 1: policy/1983 (相似度: 1.0000)
2025-05-27 02:10:47,690 - INFO - 找到相似案例 2: policy/1983 (相似度: 1.0000)
2025-05-27 02:10:47,690 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,691 - INFO - 提示构建完成
2025-05-27 02:10:47,701 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,701 - INFO - 编码目标政策...
2025-05-27 02:10:47,707 - INFO - 搜索相似案例...
2025-05-27 02:10:47,708 - INFO - 找到相似案例 1: policy/1844 (相似度: 1.0000)
2025-05-27 02:10:47,708 - INFO - 找到相似案例 2: policy/1844 (相似度: 1.0000)
2025-05-27 02:10:47,708 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,708 - INFO - 提示构建完成
2025-05-27 02:10:47,715 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,715 - INFO - 编码目标政策...
2025-05-27 02:10:47,722 - INFO - 搜索相似案例...
2025-05-27 02:10:47,723 - INFO - 找到相似案例 1: policy/1999 (相似度: 1.0000)
2025-05-27 02:10:47,723 - INFO - 找到相似案例 2: policy/1999 (相似度: 1.0000)
2025-05-27 02:10:47,723 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,723 - INFO - 提示构建完成
2025-05-27 02:10:47,728 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,728 - INFO - 编码目标政策...
2025-05-27 02:10:47,737 - INFO - 搜索相似案例...
2025-05-27 02:10:47,737 - INFO - 找到相似案例 1: policy/1580 (相似度: 1.0000)
2025-05-27 02:10:47,737 - INFO - 找到相似案例 2: policy/1580 (相似度: 1.0000)
2025-05-27 02:10:47,737 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,737 - INFO - 提示构建完成
2025-05-27 02:10:47,741 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,741 - INFO - 编码目标政策...
2025-05-27 02:10:47,749 - INFO - 搜索相似案例...
2025-05-27 02:10:47,750 - INFO - 找到相似案例 1: policy/2188 (相似度: 1.0000)
2025-05-27 02:10:47,750 - INFO - 找到相似案例 2: policy/2188 (相似度: 1.0000)
2025-05-27 02:10:47,750 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,750 - INFO - 提示构建完成
2025-05-27 02:10:47,750 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,751 - INFO - 编码目标政策...
2025-05-27 02:10:47,759 - INFO - 搜索相似案例...
2025-05-27 02:10:47,759 - INFO - 找到相似案例 1: policy/1482 (相似度: 1.0000)
2025-05-27 02:10:47,760 - INFO - 找到相似案例 2: policy/1482 (相似度: 1.0000)
2025-05-27 02:10:47,760 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,760 - INFO - 提示构建完成
2025-05-27 02:10:47,760 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,760 - INFO - 编码目标政策...
2025-05-27 02:10:47,769 - INFO - 搜索相似案例...
2025-05-27 02:10:47,769 - INFO - 找到相似案例 1: policy/1186 (相似度: 1.0000)
2025-05-27 02:10:47,769 - INFO - 找到相似案例 2: policy/1186 (相似度: 1.0000)
2025-05-27 02:10:47,769 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,769 - INFO - 提示构建完成
2025-05-27 02:10:47,773 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,773 - INFO - 编码目标政策...
2025-05-27 02:10:47,781 - INFO - 搜索相似案例...
2025-05-27 02:10:47,781 - INFO - 找到相似案例 1: policy/1259 (相似度: 1.0000)
2025-05-27 02:10:47,781 - INFO - 找到相似案例 2: policy/1259 (相似度: 1.0000)
2025-05-27 02:10:47,781 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,781 - INFO - 提示构建完成
2025-05-27 02:10:47,784 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,785 - INFO - 编码目标政策...
2025-05-27 02:10:47,792 - INFO - 搜索相似案例...
2025-05-27 02:10:47,793 - INFO - 找到相似案例 1: policy/631 (相似度: 1.0000)
2025-05-27 02:10:47,793 - INFO - 找到相似案例 2: policy/631 (相似度: 1.0000)
2025-05-27 02:10:47,793 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,793 - INFO - 提示构建完成
2025-05-27 02:10:47,796 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,796 - INFO - 编码目标政策...
2025-05-27 02:10:47,803 - INFO - 搜索相似案例...
2025-05-27 02:10:47,804 - INFO - 找到相似案例 1: policy/1082 (相似度: 1.0000)
2025-05-27 02:10:47,804 - INFO - 找到相似案例 2: policy/1082 (相似度: 1.0000)
2025-05-27 02:10:47,804 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,804 - INFO - 提示构建完成
2025-05-27 02:10:47,806 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,807 - INFO - 编码目标政策...
2025-05-27 02:10:47,815 - INFO - 搜索相似案例...
2025-05-27 02:10:47,815 - INFO - 找到相似案例 1: policy/1016 (相似度: 1.0000)
2025-05-27 02:10:47,815 - INFO - 找到相似案例 2: policy/1016 (相似度: 1.0000)
2025-05-27 02:10:47,815 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,815 - INFO - 提示构建完成
2025-05-27 02:10:47,819 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,819 - INFO - 编码目标政策...
2025-05-27 02:10:47,827 - INFO - 搜索相似案例...
2025-05-27 02:10:47,827 - INFO - 找到相似案例 1: policy/1095 (相似度: 1.0000)
2025-05-27 02:10:47,827 - INFO - 找到相似案例 2: policy/1095 (相似度: 1.0000)
2025-05-27 02:10:47,827 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,827 - INFO - 提示构建完成
2025-05-27 02:10:47,828 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,828 - INFO - 编码目标政策...
2025-05-27 02:10:47,836 - INFO - 搜索相似案例...
2025-05-27 02:10:47,837 - INFO - 找到相似案例 1: policy/247 (相似度: 1.0000)
2025-05-27 02:10:47,837 - INFO - 找到相似案例 2: policy/247 (相似度: 1.0000)
2025-05-27 02:10:47,837 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,837 - INFO - 提示构建完成
2025-05-27 02:10:47,840 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,840 - INFO - 编码目标政策...
2025-05-27 02:10:47,847 - INFO - 搜索相似案例...
2025-05-27 02:10:47,848 - INFO - 找到相似案例 1: policy/1115 (相似度: 1.0000)
2025-05-27 02:10:47,848 - INFO - 找到相似案例 2: policy/1115 (相似度: 1.0000)
2025-05-27 02:10:47,848 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,848 - INFO - 提示构建完成
2025-05-27 02:10:47,851 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,851 - INFO - 编码目标政策...
2025-05-27 02:10:47,874 - INFO - 搜索相似案例...
2025-05-27 02:10:47,875 - INFO - 找到相似案例 1: policy/1007 (相似度: 1.0000)
2025-05-27 02:10:47,875 - INFO - 找到相似案例 2: policy/1007 (相似度: 1.0000)
2025-05-27 02:10:47,876 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,876 - INFO - 提示构建完成
2025-05-27 02:10:47,883 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,883 - INFO - 编码目标政策...
2025-05-27 02:10:47,905 - INFO - 搜索相似案例...
2025-05-27 02:10:47,905 - INFO - 找到相似案例 1: policy/493 (相似度: 1.0000)
2025-05-27 02:10:47,905 - INFO - 找到相似案例 2: policy/493 (相似度: 1.0000)
2025-05-27 02:10:47,905 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,905 - INFO - 提示构建完成
2025-05-27 02:10:47,906 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,906 - INFO - 编码目标政策...
2025-05-27 02:10:47,922 - INFO - 搜索相似案例...
2025-05-27 02:10:47,922 - INFO - 找到相似案例 1: policy/200 (相似度: 1.0000)
2025-05-27 02:10:47,922 - INFO - 找到相似案例 2: policy/200 (相似度: 1.0000)
2025-05-27 02:10:47,922 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,923 - INFO - 提示构建完成
2025-05-27 02:10:47,923 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,923 - INFO - 编码目标政策...
2025-05-27 02:10:47,930 - INFO - 搜索相似案例...
2025-05-27 02:10:47,931 - INFO - 找到相似案例 1: policy/697 (相似度: 1.0000)
2025-05-27 02:10:47,931 - INFO - 找到相似案例 2: policy/697 (相似度: 1.0000)
2025-05-27 02:10:47,931 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,931 - INFO - 提示构建完成
2025-05-27 02:10:47,934 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,934 - INFO - 编码目标政策...
2025-05-27 02:10:47,941 - INFO - 搜索相似案例...
2025-05-27 02:10:47,941 - INFO - 找到相似案例 1: policy/1208 (相似度: 1.0000)
2025-05-27 02:10:47,941 - INFO - 找到相似案例 2: policy/1208 (相似度: 1.0000)
2025-05-27 02:10:47,941 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,941 - INFO - 提示构建完成
2025-05-27 02:10:47,945 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,945 - INFO - 编码目标政策...
2025-05-27 02:10:47,953 - INFO - 搜索相似案例...
2025-05-27 02:10:47,953 - INFO - 找到相似案例 1: policy/1332 (相似度: 1.0000)
2025-05-27 02:10:47,953 - INFO - 找到相似案例 2: policy/1332 (相似度: 1.0000)
2025-05-27 02:10:47,953 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,953 - INFO - 提示构建完成
2025-05-27 02:10:47,956 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,956 - INFO - 编码目标政策...
2025-05-27 02:10:47,963 - INFO - 搜索相似案例...
2025-05-27 02:10:47,964 - INFO - 找到相似案例 1: policy/718 (相似度: 1.0000)
2025-05-27 02:10:47,964 - INFO - 找到相似案例 2: policy/718 (相似度: 1.0000)
2025-05-27 02:10:47,964 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,964 - INFO - 提示构建完成
2025-05-27 02:10:47,966 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,966 - INFO - 编码目标政策...
2025-05-27 02:10:47,973 - INFO - 搜索相似案例...
2025-05-27 02:10:47,973 - INFO - 找到相似案例 1: policy/444 (相似度: 1.0000)
2025-05-27 02:10:47,973 - INFO - 找到相似案例 2: policy/444 (相似度: 1.0000)
2025-05-27 02:10:47,973 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,973 - INFO - 提示构建完成
2025-05-27 02:10:47,976 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,977 - INFO - 编码目标政策...
2025-05-27 02:10:47,984 - INFO - 搜索相似案例...
2025-05-27 02:10:47,985 - INFO - 找到相似案例 1: policy/476 (相似度: 1.0000)
2025-05-27 02:10:47,985 - INFO - 找到相似案例 2: policy/476 (相似度: 1.0000)
2025-05-27 02:10:47,985 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,985 - INFO - 提示构建完成
2025-05-27 02:10:47,988 - INFO - 
=== 获取相似案例 ===
2025-05-27 02:10:47,988 - INFO - 编码目标政策...
2025-05-27 02:10:47,995 - INFO - 搜索相似案例...
2025-05-27 02:10:47,995 - INFO - 找到相似案例 1: policy/61 (相似度: 1.0000)
2025-05-27 02:10:47,995 - INFO - 找到相似案例 2: policy/61 (相似度: 1.0000)
2025-05-27 02:10:47,995 - INFO - 
=== 构建提示 ===
2025-05-27 02:10:47,995 - INFO - 提示构建完成
